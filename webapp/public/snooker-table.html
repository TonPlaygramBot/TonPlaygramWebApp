<!DOCTYPE html>
<html lang="sq">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Snooker Training Field</title>
  <style>
    html,body{height:100%;margin:0;background:transparent}
    .stage{position:relative;width:100vw;height:100vh}
    #markings{position:absolute;inset:0;width:100%;height:100%;display:block;pointer-events:none}
  </style>
</head>
<body>
  <div class="stage">
    <canvas id="markings"></canvas>
  </div>
  <script>
    const CONFIG = {
      rail: 16,
      cushion: 16,
      lineWidth: 2,
      rotate90: false
    };

    const canvas = document.getElementById('markings');
    const ctx = canvas.getContext('2d');
    const BALL_R = 18;
    const POCKET_SHORTEN = 4;
    const POCKET_R = BALL_R * 0.65;
    const SIDE_POCKET_R = POCKET_R;

    function resize(){
      const dpr = Math.max(1, window.devicePixelRatio || 1);
      const w = canvas.clientWidth;
      const h = canvas.clientHeight;
      canvas.width  = Math.floor(w * dpr);
      canvas.height = Math.floor(h * dpr);
      ctx.setTransform(dpr,0,0,dpr,0,0);
      draw();
    }

    function draw(){
      let W = canvas.clientWidth;
      let H = canvas.clientHeight;

      ctx.save();
      ctx.translate(W, H);
      ctx.rotate(Math.PI);
      if(CONFIG.rotate90){
        ctx.translate(W,0);
        ctx.rotate(Math.PI/2);
        const tmp = W; W = H; H = tmp;
      }

      const R = CONFIG.rail;
      const C = CONFIG.cushion;
      const ix = R + C;
      const iy = R + C;
      const iw = W - 2*(R + C);
      const ih = H - 2*(R + C);

      ctx.clearRect(0,0,W,H);
      drawSnookerMarkings(ix, iy, iw, ih);
      ctx.restore();
    }

    function drawSnookerMarkings(ix, iy, iw, ih){
      ctx.lineWidth = CONFIG.lineWidth;
      // table boundary in green
      ctx.strokeStyle = 'green';
      ctx.strokeRect(ix, iy, iw, ih);

      // pocket outlines in red
      const midY = iy + ih / 2;
      const pockets = [
        { x: ix - POCKET_SHORTEN + 4, y: iy - POCKET_SHORTEN, r: POCKET_R },
        { x: ix + iw + POCKET_SHORTEN - 4, y: iy - POCKET_SHORTEN, r: POCKET_R },
        { x: ix - 16 - POCKET_SHORTEN, y: midY + BALL_R - 14, r: SIDE_POCKET_R },
        { x: ix + iw + 16 + POCKET_SHORTEN, y: midY + BALL_R - 14, r: SIDE_POCKET_R },
        { x: ix - POCKET_SHORTEN, y: iy + ih + POCKET_SHORTEN, r: POCKET_R },
        { x: ix + iw + POCKET_SHORTEN, y: iy + ih + POCKET_SHORTEN, r: POCKET_R }
      ];
      ctx.strokeStyle = 'red';
      pockets.forEach(p => {
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
        ctx.stroke();
      });

      // connectors U and V in yellow
      ctx.strokeStyle = 'yellow';
      const inset = iw * 0.1;
      // U connector
      ctx.beginPath();
      ctx.moveTo(ix + inset, iy);
      ctx.lineTo(ix + inset, iy + ih);
      ctx.lineTo(ix + iw - inset, iy + ih);
      ctx.lineTo(ix + iw - inset, iy);
      ctx.stroke();

      // V connector
      ctx.beginPath();
      ctx.moveTo(ix + inset, iy + ih);
      ctx.lineTo(ix + iw / 2, iy + inset);
      ctx.lineTo(ix + iw - inset, iy + ih);
      ctx.stroke();
    }

    resize();
    window.addEventListener('resize', resize);
  </script>
</body>
</html>

